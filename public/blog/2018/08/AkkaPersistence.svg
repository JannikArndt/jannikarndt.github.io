<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg width="100%" height="100%" viewBox="0 0 700 400" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;"><g id="InnerLogic"><rect x="220.142" y="0" width="300" height="400" style="fill:#ebebeb;stroke:#000;stroke-width:1px;"/><g id="classText" transform="matrix(1,0,0,1,228.73,4.5733)"><text x="0px" y="10.68px" style="font-family:'SourceCodePro-Regular', 'Source Code Pro', monospace;font-size:15px;fill:#000075;">class</text><text x="54px" y="10.68px" style="font-family:'SourceCodePro-Regular', 'Source Code Pro', monospace;font-size:15px;fill:#520053;">ExamplePersistentActor</text><text x="0px" y="25.68px" style="font-family:'SourceCodePro-Regular', 'Source Code Pro', monospace;font-size:15px;fill:#000075;">extends</text><text x="72px" y="25.68px" style="font-family:'SourceCodePro-Regular', 'Source Code Pro', monospace;font-size:15px;fill:#520053;">PersistentActor</text><text x="216px" y="25.68px" style="font-family:'SourceCodePro-Regular', 'Source Code Pro', monospace;font-size:15px;fill:#535502;">{</text><text x="18px" y="70.68px" style="font-family:'SourceCodePro-Regular', 'Source Code Pro', monospace;font-size:15px;fill:#000075;">val</text><text x="54px" y="70.68px" style="font-family:'SourceCodePro-Regular', 'Source Code Pro', monospace;font-size:15px;fill:#0c262d;">receiveCommand</text><text x="180px" y="70.68px" style="font-family:'SourceCodePro-Regular', 'Source Code Pro', monospace;font-size:15px;fill:#535502;">:</text><text x="198px" y="70.68px" style="font-family:'SourceCodePro-Regular', 'Source Code Pro', monospace;font-size:15px;fill:#520053;">Receive</text><text x="18px" y="115.68px" style="font-family:'SourceCodePro-Regular', 'Source Code Pro', monospace;font-size:15px;fill:#730002;">// validation</text><text x="18px" y="220.68px" style="font-family:'SourceCodePro-Regular', 'Source Code Pro', monospace;font-size:15px;fill:#0c262d;">persist</text><text x="81px" y="220.68px" style="font-family:'SourceCodePro-Regular', 'Source Code Pro', monospace;font-size:15px;fill:#535502;">()</text><text x="18px" y="265.68px" style="font-family:'SourceCodePro-Regular', 'Source Code Pro', monospace;font-size:15px;fill:#000075;">def</text><text x="54px" y="265.68px" style="font-family:'SourceCodePro-Regular', 'Source Code Pro', monospace;font-size:15px;fill:#0c262d;">updateState</text><text x="153px" y="265.68px" style="font-family:'SourceCodePro-Regular', 'Source Code Pro', monospace;font-size:15px;fill:#535502;">()</text><text x="18px" y="325.68px" style="font-family:'SourceCodePro-Regular', 'Source Code Pro', monospace;font-size:15px;fill:#000075;">val</text><text x="54px" y="325.68px" style="font-family:'SourceCodePro-Regular', 'Source Code Pro', monospace;font-size:15px;fill:#0c262d;">receiveRecover</text><text x="180px" y="325.68px" style="font-family:'SourceCodePro-Regular', 'Source Code Pro', monospace;font-size:15px;fill:#535502;">:</text><text x="198px" y="325.68px" style="font-family:'SourceCodePro-Regular', 'Source Code Pro', monospace;font-size:15px;fill:#520053;">Receive</text><text x="18px" y="355.68px" style="font-family:'SourceCodePro-Regular', 'Source Code Pro', monospace;font-size:15px;fill:#535502;">...</text><text x="0px" y="385.68px" style="font-family:'SourceCodePro-Regular', 'Source Code Pro', monospace;font-size:15px;fill:#535502;">}</text></g><g id="Event"><rect x="243.9" y="153.778" width="152.266" height="25.282" style="fill:#ebebeb;stroke:#000;stroke-width:1px;"/><g transform="matrix(1,0,0,1,248.743,159.903)"><text x="0px" y="10.68px" style="font-family:'SourceCodePro-Regular', 'Source Code Pro', monospace;font-size:15px;fill:#000075;">case</text><text x="45px" y="10.68px" style="font-family:'SourceCodePro-Regular', 'Source Code Pro', monospace;font-size:15px;fill:#000075;">class</text><text x="99px" y="10.68px" style="font-family:'SourceCodePro-Regular', 'Source Code Pro', monospace;font-size:15px;fill:#520053;">Evt</text><text x="126px" y="10.68px" style="font-family:'SourceCodePro-Regular', 'Source Code Pro', monospace;font-size:15px;fill:#535502;">()</text></g></g><path d="M302.676,77.766l4.2,0l0,21.986l3.9,0l-6,6l-6,-6l3.9,0l0,-21.986Z" style="fill:#797979;stroke:#030000;stroke-width:1px;"/><path d="M302.676,123.792l4.2,0l0,21.986l3.9,0l-6,6l-6,-6l3.9,0l0,-21.986Z" style="fill:#797979;stroke:#030000;stroke-width:1px;"/><path d="M302.676,181.369l4.2,0l0,21.986l3.9,0l-6,6l-6,-6l3.9,0l0,-21.986Z" style="fill:#797979;stroke:#030000;stroke-width:1px;"/><path d="M306.876,318.208l-4.2,0l0,-36.922l-3.9,0l6,-6l6,6l-3.9,0l0,36.922Z" style="fill:#797979;stroke:#030000;stroke-width:1px;"/></g><g id="Database"><path d="M591.655,218.988l0.119,0c-0.079,-0.391 -0.119,-0.786 -0.119,-1.184c0,-9.826 24.274,-17.804 54.173,-17.804c29.898,0 54.172,7.978 54.172,17.804c0,0.398 -0.04,0.793 -0.118,1.184l0.118,0l0,103.269c0,9.826 -24.274,17.804 -54.172,17.804c-29.899,0 -54.173,-7.978 -54.173,-17.804l0,-103.269Z" style="fill:#ebebeb;stroke:#000;stroke-width:1px;"/><ellipse cx="645.828" cy="217.089" rx="54.172" ry="17.089" style="fill:none;stroke:#000;stroke-width:1px;"/><path d="M328.319,223.23l0,-4.2l253.379,0l0,-3.9l6,6l-6,6l0,-3.9l-253.379,0Z" style="fill:#797979;stroke:#030000;stroke-width:1px;"/><path d="M587.698,261.93l0,4.2l-177.309,0l0,3.9l-6,-6l6,-6l0,3.9l177.309,0Z" style="fill:#797979;stroke:#030000;stroke-width:1px;"/><path d="M587.698,322.108l0,4.2l-80.616,0l0,3.9l-6,-6l6,-6l0,3.9l80.616,0Z" style="fill:#797979;stroke:#030000;stroke-width:1px;"/></g><g id="Command"><rect x="0" y="58.431" width="152.266" height="25.282" style="fill:#ebebeb;stroke:#000;stroke-width:1px;"/><g transform="matrix(1,0,0,1,3.40493,65.4017)"><text x="0px" y="10.68px" style="font-family:'SourceCodePro-Regular', 'Source Code Pro', monospace;font-size:15px;fill:#000075;">case</text><text x="45px" y="10.68px" style="font-family:'SourceCodePro-Regular', 'Source Code Pro', monospace;font-size:15px;fill:#000075;">class</text><text x="99px" y="10.68px" style="font-family:'SourceCodePro-Regular', 'Source Code Pro', monospace;font-size:15px;fill:#520053;">Cmd</text><text x="126px" y="10.68px" style="font-family:'SourceCodePro-Regular', 'Source Code Pro', monospace;font-size:15px;fill:#535502;">()</text></g><path d="M161.601,72.851l0,-4.2l68.012,0l0,-3.9l6,6l-6,6l0,-3.9l-68.012,0Z" style="fill:#797979;stroke:#030000;stroke-width:1px;"/></g><g id="Annotations"><text x="16.662px" y="123.156px" style="font-family:'ArialMT', 'Arial', sans-serif;font-size:12px;">can fail</text><text x="137.951px" y="175.375px" style="font-family:'ArialMT', 'Arial', sans-serif;font-size:12px;">cannot fail</text><text x="472.968px" y="257.264px" style="font-family:'ArialMT', 'Arial', sans-serif;font-size:12px;">optional</text><text x="548.05px" y="356.447px" style="font-family:'ArialMT', 'Arial', sans-serif;font-size:12px;">events and snapshots</text><path d="M198.607,171.077l43.691,-4.438" style="fill:none;stroke:#000;stroke-width:1px;"/><path d="M58.98,118.858l57.663,-35.145" style="fill:none;stroke:#000;stroke-width:1px;"/><path d="M544.39,353.345l-15.66,-23.137" style="fill:none;stroke:#000;stroke-width:1px;"/><text x="446.079px" y="212.353px" style="font-family:'ArialMT', 'Arial', sans-serif;font-size:12px;">async</text><g id="transactional"><rect x="191.405" y="200" width="417.086" height="82.087" style="fill:none;stroke:#ffcd00;stroke-width:2px;stroke-dasharray:4,6,0,0;"/><text x="72.484px" y="229.862px" style="font-family:'ArialMT', 'Arial', sans-serif;font-size:12px;">transactional</text><path d="M144.92,225.637l46.485,15.407" style="fill:none;stroke:#000;stroke-width:1px;"/></g></g></svg>